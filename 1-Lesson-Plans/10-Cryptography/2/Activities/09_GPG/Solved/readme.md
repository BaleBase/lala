## Activity File: GPG

In this activity, you will continue to be security analysts working for the Hill Valley Police Department.

- Captain Strickland has implemented your suggestion of using asymmetric key encryption across all departments at Hill Valley.

- Captain Strickland believes that the Alphabet Bandit may actually be an insider at Hill Valley Police Department.

- They would like you to propose a way to catch the insider, and communicate this to your partner.

**Note**: The idea you select isn't super important and is not the focus of this exercise. Rather, the point is to practice using GPG.

--- 

### Instructions

1. Continue with the same partner.

2. Write an updated message, using your code name, that describes your idea to catch the insider titled `secret_idea.txt`.

    - For example, an idea might be: *Wiretapping all the detective phones*.

3. Generate a key pair, export your public key with `armor` and share it with your partner.

4. Import your partner's public key.

5. Encrypt the message with your partner's public key using GPG, save the encrypted file as `[yourname]_secret_idea.txt.enc`.

6. Transmit the encrypted message to your partner using Slack.

7. After you receive your partner's encrypted message, decrypt it using your private key.## Solution Guide: GPG  

In this activity, you practiced using GPG to apply a real world application of public key cryptography, generating public and private keys and encrypting and decrypting secret messages with the appropriate keys.

---

2. Write an updated message, using your code name, that describes your idea to catch the insider titled `secret_idea.txt`.

    - For example, an idea might be: *Wiretapping all the detective phones*.

This solution is an example of how to encrypt and decrypt with GPG. 

- The first step is to come up with an idea of how to capture an insider at the Hill Valley Police Department, and add it to a message in a file called `secret_idea.txt`.
  
  - You can use Vi, Nano, or echo to create this message.
  
3. Generate a key pair, export your public key with `armor` and share it with your partner.

- The next step is to generate your public key:

   - `gpg --gen-key`
        
- Validate your key has been generated:
    
   - `gpg --list-keys`
        
- To export the public key in ASCII format:
 
  - `gpg --armor --output [your name]_key.gpg --export [your email]`
        
  - Update the command with your name and the email you used for generating the key.
    
- Confirm the key has been generated by running:

  - `more [your name]_key.gpg `
        
- It should look similar to the following:
       
   *Note: This is a shortened example.*
     

       -----BEGIN PGP PUBLIC KEY BLOCK-----

       oCN2AghQUDgu5yBVAmPAx7hatvcMBR1X6NqJN4wStLB21OvHdgT2VbiHUtwkGvbJ
       Hsui9eTR7bBY1YgP8PcGFjeMZ5+C7E94uYeksbwMzFWGE79M3kqEi1tgkDZTN/T8
       8O31qQUgDCCbUnuvpW5pYJ2BconeNBHAZNKSKg+9U3DfCazRpky89be6W7WtjDGs
       iFo5PEjBTvCJJXHvDgn2W7I7U0MWO220gyCT/Ja/eKad5GKTeMjOC4ERTwvha0ON

       -----END PGP PUBLIC KEY BLOCK-----

- Send your key over to your partner using Slack.
  
  - You can send the whole file or copy and paste the message (including the `-----BEGIN PGP PUBLIC KEY BLOCK-----` and the `-----END PGP PUBLIC KEY BLOCK-----`).
  
4. Import your partner's public key.

  - If you receive text from your partner instead of a file, create a file called `partner_key.gpg`, add the whole message, and save the file.
  
- With your partner's public key, import by running the following:
  
  - `gpg --import [partner_key.gpg]`
         
5. Encrypt the message with your partner's public key using GPG, save the encrypted file as `[yourname]_secret_idea.txt.enc`.

- Encrypt your message with your partner's public key by running the following command:
      
  - `gpg --output [your name]_secret_idea.txt.enc --encrypt --recipient [partner key] secret_idea.txt`
          
          
6. Transmit the encrypted message to your partner using Slack.

- Send the encrypted file `[your name]_secret_idea.txt.enc` to your partner.

7. After you receive your partner's encrypted message, decrypt it using your private key.## Solution Guide: GPG  

 - When you receive your partner's encrypted file, save it in your local directory.

- Decrypt the encrypted message with the following command:

  - `gpg --output decrypted_message.txt --decrypt [your partner's name]_secret_idea.txt.enc`
        
- Preview the decrypted message and confirm with your partner this is the message they sent.        

---

 Â© 2020 Trilogy Education Services, a 2U, Inc. brand. All Rights Reserved.
